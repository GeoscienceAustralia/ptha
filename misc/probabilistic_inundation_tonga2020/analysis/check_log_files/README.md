The script [check_log_files.R](check_log_files.R) runs a number of basic QC checks on the tsunami inundation simulations by scanning the log file. The checks confirm that:
* The runs finished
* Mass conservation errors are negligible. SWALS computes the mass error as the `spatially_integrated_flow_depth - time_and_space_integrated_boundary_fluxes - spatially_integrated_flow_depth_at_time_0`. Theoretically it is zero; numerically, floating point imperfections in the integrals will lead to non-zero values, but we check it is negligible compared to the other terms.
* The energy behaves as expected. We check this because energy misbehaviour can be an indicator of model instability. 
  * In all cases the energy should be non-increasing until the tsunami reaches the boundary, as expected in a closed domain with friction. Tiny numerical increase are not uncommon in the leap-frog solver, but the script checks for this and we find any increases are tiny (e.g. at most 0.3%, usually much less, consistent with our experience using the solver on global domains). 
  * Once the tsunami reaches the boundary, the model's volume becomes time-varying, which makes the analysis more complex. For the runs with MSL=0 this doesn't really qualitatively affect the potential energy as calculated by SWALS, because we can show mathematically in this case the latter is the same as the "available potential energy" if we can neglect wetting and drying (a good approximation in this case because our domain is so large). With MSL=0 we find that after the tsunami reaches the boundary, energy always decreases over time due to the radiation condition. Incidentally I'm not sure if this is always a mathematical necessity, but it does happen in all these simulations, and is intuitive. 
  * For the runs with MSL=0.8, the potential energy as calculated by SWALS is correct, but it's relation to the "available potential energy" depends on the volume of water in the domain, and so once the tsunami reaches the boundary the energy is harder to analyze. The mass fluxes can make the SWALS potential energy increase or decrease. There are comments in the code that explain the theory. It turns out we can derive the expected relation between the energy with MSL=0.8 and the energy with MSL=0 when the boundaries are radiating. In the script we exploit this to check for close similarity between both cases for the same initial condition (noting we already confirmed have decreasing available potential energy for the MSL=0 case). A simpler comparison that does not suffer these complexities is to compare their kinetic energies (which should be very similar, and indeed are). The checks confirm the results are consistent with what we expect. 

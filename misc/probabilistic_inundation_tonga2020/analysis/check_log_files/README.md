The script [check_log_files.R](check_log_files.R) runs a number of basic QC checks on the tsunami inundation simulations by scanning the log file. The checks confirm that:
* The runs finished
* Mass conservation errors are negligible. SWALS computes the mass error as the `spatially_integrated_flow_depth - time_and_space_integrated_boundary_fluxes - spatially_integrated_flow_depth_at_time_0`. Theoretically it is zero; numerically, floating point imperfections in the integrals will lead to non-zero values, but we check it is negligible compared to the other terms.
* The energy behaves as expected. We check this because energy misbehaviour can be an indicator of model instability. 
  * In all cases the energy should be non-increasing until the tsunami reaches the boundary, as expected in a closed domain with friction. Tiny numerical increase are not uncommon in the leap-frog solver, but the script checks for this and we find any increases are tiny (e.g. at most 0.3% of the initial energy, and usually much less, consistent with our experience using the solver on global domains). 
  * Once the tsunami reaches the boundary, the model's volume becomes time-varying, which makes the analysis more complex as compared with a closed domain. For the runs with MSL=0 we can show that even with boundary fluxes, the potential energy as calculated by SWALS is the same as the "available potential energy" if we can neglect wetting and drying (a good approximation in this case because our domain is so large). With MSL=0 we find that after the tsunami reaches the boundary, energy always decreases over time due to the radiation condition, which is intuitively reasonable. Incidentally I'm not sure if this is always a mathematical necessity, but it does happen in all these simulations, and is intuitive. 
  * For the runs with MSL=0.8, the potential energy as calculated by SWALS remains correct. However, once the tsunami starts to radiate though the boundary, the relation between the SWALS potential energy and the "available potential energy" depends on the volume of water in the domain. Volume changes can cause the SWALS potential energy to increase or decrease, and the energy is harder to analyze. There are comments in the code that explain the theory. Importantly, we can derive the expected relation between the energy with MSL=0.8 and the energy with MSL=0 when the boundaries are radiating (assuming both models have the same initial condition). In the script we exploit this to check for close similarity between both cases for the same initial condition (noting we already confirmed well-behaved energy for the MSL=0 case). We also compare the kinetic energies in both models, which is simpler. The checks confirm the results are consistent with what we expect. 
